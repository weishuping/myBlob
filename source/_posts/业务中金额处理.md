---
title: 业务中金额处理
date: 2020-03-14 15:11:40
tags: vue 
---
常常在业务中会出现，输入金额的处理。一般情况为
后端返回空，前端默认展示为0.00。当focus的时候，变为空；当有值的时候，可以直接输入。

过滤器处理，接受两个参数
```
// 金额过滤器type为false的时候进行千分位处理并且保留两位小数
// type为true的时候，直接返回
Vue.filter('commafy', (val, type) => {
    if (type) {
        return val;
    } else if (Number(val) === 0 || isNaN(Number(val))) {
        val = '0.00';
    } else {
        // 保留两位并且加上千分符
        val = format.commafy(utils.numToFixed(val));
    }
    return val;
});
```
后端返回数值，需要做千分位处理。传入false。值为空focus的时候，传入true